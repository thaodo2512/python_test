{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Numeric Sensor PDR Schema (DSP0248 1.3.0, Clause 28.4)",
  "type": "object",
  "additionalProperties": false,
  "binaryOrder": [
    "PLDMTerminusHandle",
    "sensorID",
    "entityType",
    "entityInstanceNumber",
    "containerID",
    "sensorInit",
    "sensorAuxiliaryNamesPDR",
    "baseUnit",
    "unitModifier",
    "rateUnit",
    "baseOEMUnitHandle",
    "auxUnit",
    "auxUnitModifier",
    "auxrateUnit",
    "rel",
    "auxOEMUnitHandle",
    "isLinear",
    "sensorDataSize",
    "resolution",
    "offset",
    "accuracy",
    "plusTolerance",
    "minusTolerance",
    "hysteresis",
    "supportedThresholds",
    "thresholdAndHysteresisVolatility",
    "stateTransitionInterval",
    "updateInterval",
    "maxReadable",
    "minReadable",
    "rangeFieldFormat",
    "rangeFieldSupport",
    "nominalValue",
    "normalMax",
    "normalMin",
    "criticalHigh",
    "criticalLow",
    "fatalHigh",
    "fatalLow"
  ],
  "properties": {
    "pdrHeader": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "recordHandle": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "integer",
              "minimum": 0,
              "maximum": 4294967295
            }
          ],
          "binaryFormat": "I",
          "description": "uint32; opaque handle (TBD or auto-generated)"
        },
        "PDRHeaderVersion": {
          "type": "integer",
          "const": 1,
          "binaryFormat": "B",
          "description": "uint8; must be 1"
        },
        "PDRType": {
          "type": "integer",
          "const": 2,
          "binaryFormat": "B",
          "description": "uint8; Numeric Sensor PDR = 2"
        },
        "recordChangeNumber": {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535,
          "default": 0,
          "binaryFormat": "H",
          "description": "uint16; incremented on changes (default 0)"
        },
        "dataLength": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "integer",
              "minimum": 0,
              "maximum": 65535
            }
          ],
          "binaryFormat": "H",
          "description": "uint16; calculated data length (TBD)"
        }
      },
      "required": [
        "recordHandle",
        "PDRHeaderVersion",
        "PDRType",
        "recordChangeNumber",
        "dataLength"
      ]
    },
    "PLDMTerminusHandle": {
      "type": "integer",
      "minimum": 0,
      "maximum": 65535,
      "default": 0,
      "binaryFormat": "H",
      "description": "uint16; terminus handle"
    },
    "sensorID": {
      "type": "integer",
      "minimum": 0,
      "maximum": 65535,
      "binaryFormat": "H",
      "description": "uint16; unique sensor ID"
    },
    "entityType": {
      "type": "integer",
      "minimum": 0,
      "maximum": 65535,
      "binaryFormat": "H",
      "description": "uint16; entity type (see 9.1)"
    },
    "entityInstanceNumber": {
      "type": "integer",
      "minimum": 0,
      "maximum": 65535,
      "binaryFormat": "H",
      "description": "uint16; entity instance"
    },
    "containerID": {
      "type": "integer",
      "minimum": 0,
      "maximum": 65535,
      "binaryFormat": "H",
      "description": "uint16; container ID"
    },
    "sensorInit": {
      "type": "integer",
      "enum": [
        0,
        1,
        2,
        3
      ],
      "binaryFormat": "B",
      "description": "enum8: 0=noInit, 1=useInitPDR, 2=enableSensor, 3=disableSensor"
    },
    "sensorAuxiliaryNamesPDR": {
      "type": "boolean",
      "default": false,
      "binaryFormat": "B",
      "description": "bool8; true if auxiliary names PDR exists"
    },
    "baseUnit": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255,
      "binaryFormat": "B",
      "description": "enum8; base unit (Table 75)"
    },
    "unitModifier": {
      "type": "integer",
      "minimum": -128,
      "maximum": 127,
      "binaryFormat": "b",
      "description": "sint8; power-of-10 multiplier"
    },
    "rateUnit": {
      "type": "integer",
      "minimum": 0,
      "maximum": 7,
      "binaryFormat": "B",
      "description": "enum8; rate qualifier (0-6 defined, 7 reserved)"
    },
    "baseOEMUnitHandle": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255,
      "binaryFormat": "B",
      "description": "uint8; OEM unit handle if baseUnit=OEM"
    },
    "auxUnit": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255,
      "binaryFormat": "B",
      "description": "enum8; auxiliary unit"
    },
    "auxUnitModifier": {
      "type": "integer",
      "minimum": -128,
      "maximum": 127,
      "binaryFormat": "b",
      "description": "sint8; aux multiplier"
    },
    "auxrateUnit": {
      "type": "integer",
      "minimum": 0,
      "maximum": 7,
      "binaryFormat": "B",
      "description": "enum8; aux rate qualifier (0-6 defined, 7 reserved)"
    },
    "rel": {
      "type": "integer",
      "minimum": 0,
      "maximum": 1,
      "binaryFormat": "B",
      "description": "enum8; base/aux relationship: 0=dividedBy, 1=multipliedBy"
    },
    "auxOEMUnitHandle": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255,
      "binaryFormat": "B",
      "description": "uint8; OEM aux unit handle"
    },
    "isLinear": {
      "type": "boolean",
      "binaryFormat": "B",
      "description": "bool8; true if linear range"
    },
    "sensorDataSize": {
      "type": "integer",
      "enum": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7
      ],
      "binaryFormat": "B",
      "description": "enum8: 0=uint8,1=sint8,...7=sint64"
    },
    "resolution": {
      "type": "number",
      "binaryFormat": "f",
      "description": "real32; resolution"
    },
    "offset": {
      "type": "number",
      "binaryFormat": "f",
      "description": "real32; offset"
    },
    "accuracy": {
      "type": "integer",
      "minimum": 0,
      "maximum": 65535,
      "binaryFormat": "H",
      "description": "uint16; accuracy in 1/100th %"
    },
    "plusTolerance": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255,
      "binaryFormat": "B",
      "description": "uint8; +tolerance (raw)"
    },
    "minusTolerance": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255,
      "binaryFormat": "B",
      "description": "uint8; -tolerance (raw)"
    },
    "hysteresis": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "sensorDataSize",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "uint64",
          "7": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "sensorDataSize",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "Q",
          "7": "q"
        }
      },
      "description": "Variable; hysteresis (raw). 0=no hysteresis"
    },
    "supportedThresholds": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255,
      "binaryFormat": "B",
      "description": "bitfield8; supported thresholds"
    },
    "thresholdAndHysteresisVolatility": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255,
      "binaryFormat": "B",
      "description": "bitfield8; volatility conditions"
    },
    "stateTransitionInterval": {
      "type": "number",
      "binaryFormat": "f",
      "description": "real32; state transition time (s)"
    },
    "updateInterval": {
      "type": "number",
      "binaryFormat": "f",
      "description": "real32; update interval (s)"
    },
    "maxReadable": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "sensorDataSize",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "uint64",
          "7": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "sensorDataSize",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "Q",
          "7": "q"
        }
      },
      "description": "Variable; max readable (raw)"
    },
    "minReadable": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "sensorDataSize",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "uint64",
          "7": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "sensorDataSize",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "Q",
          "7": "q"
        }
      },
      "description": "Variable; min readable (raw)"
    },
    "rangeFieldFormat": {
      "type": "integer",
      "enum": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8
      ],
      "binaryFormat": "B",
      "description": "enum8: 0=uint8,...6=real32,7=uint64,8=sint64"
    },
    "rangeFieldSupport": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255,
      "binaryFormat": "B",
      "description": "bitfield8; supported range fields (calculated from presence)"
    },
    "nominalValue": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "number"
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "real32",
          "7": "uint64",
          "8": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "f",
          "7": "Q",
          "8": "q"
        }
      },
      "conditional": {
        "group": "range",
        "bit": 0
      },
      "description": "Variable; nominal value"
    },
    "normalMax": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "number"
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "real32",
          "7": "uint64",
          "8": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "f",
          "7": "Q",
          "8": "q"
        }
      },
      "conditional": {
        "group": "range",
        "bit": 1
      },
      "description": "Variable; normal max"
    },
    "normalMin": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "number"
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "real32",
          "7": "uint64",
          "8": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "f",
          "7": "Q",
          "8": "q"
        }
      },
      "conditional": {
        "group": "range",
        "bit": 2
      },
      "description": "Variable; normal min"
    },
    "criticalHigh": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "number"
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "real32",
          "7": "uint64",
          "8": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "f",
          "7": "Q",
          "8": "q"
        }
      },
      "conditional": {
        "group": "range",
        "bit": 3
      },
      "description": "Variable; critical high"
    },
    "criticalLow": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "number"
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "real32",
          "7": "uint64",
          "8": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "f",
          "7": "Q",
          "8": "q"
        }
      },
      "conditional": {
        "group": "range",
        "bit": 4
      },
      "description": "Variable; critical low"
    },
    "fatalHigh": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "number"
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "real32",
          "7": "uint64",
          "8": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "f",
          "7": "Q",
          "8": "q"
        }
      },
      "conditional": {
        "group": "range",
        "bit": 5
      },
      "description": "Variable; fatal high"
    },
    "fatalLow": {
      "anyOf": [
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        },
        {
          "type": "integer",
          "minimum": -128,
          "maximum": 127
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        },
        {
          "type": "integer",
          "minimum": -32768,
          "maximum": 32767
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        {
          "type": "integer",
          "minimum": -2147483648,
          "maximum": 2147483647
        },
        {
          "type": "number"
        },
        {
          "type": "integer",
          "minimum": 0,
          "maximum": 18446744073709552000
        },
        {
          "type": "integer",
          "minimum": -9223372036854776000,
          "maximum": 9223372036854776000
        }
      ],
      "binaryFormat": "variable",
      "typeResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "uint8",
          "1": "sint8",
          "2": "uint16",
          "3": "sint16",
          "4": "uint32",
          "5": "sint32",
          "6": "real32",
          "7": "uint64",
          "8": "sint64"
        }
      },
      "formatResolver": {
        "dependsOn": "rangeFieldFormat",
        "mapping": {
          "0": "B",
          "1": "b",
          "2": "H",
          "3": "h",
          "4": "I",
          "5": "i",
          "6": "f",
          "7": "Q",
          "8": "q"
        }
      },
      "conditional": {
        "group": "range",
        "bit": 6
      },
      "description": "Variable; fatal low"
    }
  },
  "required": [
    "pdrHeader",
    "PLDMTerminusHandle",
    "sensorID",
    "entityType",
    "entityInstanceNumber",
    "containerID",
    "sensorInit",
    "sensorAuxiliaryNamesPDR",
    "baseUnit",
    "unitModifier",
    "rateUnit",
    "baseOEMUnitHandle",
    "auxUnit",
    "auxUnitModifier",
    "auxrateUnit",
    "rel",
    "auxOEMUnitHandle",
    "isLinear",
    "sensorDataSize",
    "resolution",
    "offset",
    "accuracy",
    "plusTolerance",
    "minusTolerance",
    "hysteresis",
    "supportedThresholds",
    "thresholdAndHysteresisVolatility",
    "stateTransitionInterval",
    "updateInterval",
    "maxReadable",
    "minReadable",
    "rangeFieldFormat",
    "rangeFieldSupport"
  ]
}
